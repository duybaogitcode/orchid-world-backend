# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type SuccessResponse {
  success: Boolean!
}

type Categories {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  name: String!
  slug: String!
  paginateProduct(page: Int! = 1, limit: Int! = 10, filter: ProductFilter, sort: ProductSort): PaginatedProducts
}

"""ObjectId is a mongodb ObjectId. String of 12 or 24 hex chars"""
scalar ObjectId

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input ProductFilter {
  name: ProductNameFilter
  search: String
}

input ProductNameFilter {
  contains: String
}

input ProductSort {
  price: SortDirection
}

enum SortDirection {
  ASC
  DESC
}

type Tags {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  name: String!
  slug: String!
  values: [String!]!
}

type TagWithValues {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  tag_id: ObjectId!
  values: String!
  tag: Tags!
}

type Permission {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  pattern: String!
}

type Role {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  name: String!
  permissionIds: [ObjectId!]
  permissions: [Permission!]!
}

type Session {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  userId: ObjectId!
  private_key: ObjectId!
  public_key: ObjectId!
}

type User {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  roleId: ObjectId!
  role: Role!
}

type Product {
  id: ObjectId!
  createdAt: DateTime!
  updatedAt: DateTime!
  name: String!
  media: [String!]
  slug: String!
  price: Float!
  quantity: Float!
  description: String
  status: ProductStatus
  tags: [TagWithValues!]!
  author: User!
  category: Categories!
}

enum ProductStatus {
  PENDING
  APPROVED
  NOT_AVAILABLE
  DISAPPROVED
  REMOVED
}

type PaginatedProducts {
  docs: [Product!]!
  totalDocs: Int!
  page: Int!
  limit: Int!
  totalPages: Int!
  hasNextPage: Boolean!
  hasPrevPage: Boolean!
  pagingCounter: Int!
}

type Query {
  whoAmI: User!
  product(id: ObjectId!): Product!
  allProducts(filter: ProductFilter, sort: ProductSort): [Product!]!
  paginateProducts(page: Int! = 1, limit: Int! = 10, filter: ProductFilter, sort: ProductSort): PaginatedProducts!
  tags(id: ObjectId!): Tags!
  allTags: [Tags!]!
  categories(id: ObjectId!): Categories!
  allCategories: [Categories!]!
  user(id: ObjectId!): User!
  allUsers: [User!]!
}

type Mutation {
  signIn(input: String!): String!
  createTags(input: CreateTagsInput!): Tags!
  updateTags(input: UpdateTagsInput!): Tags!
  removeTags(id: ObjectId!, options: RemoveOptions): SuccessResponse!
  createCategories(input: CreateCategoriesInput!): Categories!
  updateCategories(input: UpdateCategoriesInput!): Categories!
  removeCategories(id: ObjectId!, options: RemoveOptions): SuccessResponse!
  updateUser(input: UpdateUserInput!): User!
  createProduct(input: CreateProductInput!): Product!
  updateProduct(input: UpdateProductInput!): Product!
  removeProduct(id: String!): Boolean!
}

input CreateTagsInput {
  name: String!
  slug: String!
  values: [String!]!
}

input UpdateTagsInput {
  id: ObjectId!
  name: String
  slug: String
  values: [String!]
}

input RemoveOptions {
  mode: RemoveMode! = RequiredCleanRelations
}

enum RemoveMode {
  RequiredCleanRelations
  IgnoreRelations
  CleanUpRelationsAfterRemoved
}

input CreateCategoriesInput {
  name: String!
  slug: String!
}

input UpdateCategoriesInput {
  id: ObjectId!
  name: String
  slug: String
}

input UpdateUserInput {
  id: ObjectId!
  roleId: ObjectId
}

input CreateProductInput {
  name: String!
  file: [Upload!]!
  price: Float!
  quantity: Float!
  description: String
  tags: [CreateTagWithValuesWithinProductInput!]
  category_id: ObjectId!
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

input CreateTagWithValuesWithinProductInput {
  tag_id: ObjectId!
  values: String!
}

input UpdateProductInput {
  id: ObjectId!
  name: String
  price: Float
  quantity: Float
  description: String
  status: ProductStatus = PENDING
  category_id: ObjectId
  deleteUrl: [String!]
  fileUpdate: [Upload!]
  tagsUpdate: [InputTags!]
}

input InputTags {
  tag_id: ObjectId!
  values: String!
}